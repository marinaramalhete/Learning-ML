{
 "cells": [
  {
   "cell_type": "markdown",
   "metadata": {},
   "source": [
    "# Exercício 2\n",
    "\n",
    "Nesse exercício você usará a tabela dos jogos do campeonato brasileiro de 2018 (brasileiro2018.csv) e a tabela com a classificação final do campeonato brasileiro do mesmo ano (classificacao2018.csv)."
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 2,
   "metadata": {},
   "outputs": [
    {
     "data": {
      "text/html": [
       "<div>\n",
       "<style scoped>\n",
       "    .dataframe tbody tr th:only-of-type {\n",
       "        vertical-align: middle;\n",
       "    }\n",
       "\n",
       "    .dataframe tbody tr th {\n",
       "        vertical-align: top;\n",
       "    }\n",
       "\n",
       "    .dataframe thead th {\n",
       "        text-align: right;\n",
       "    }\n",
       "</style>\n",
       "<table border=\"1\" class=\"dataframe\">\n",
       "  <thead>\n",
       "    <tr style=\"text-align: right;\">\n",
       "      <th></th>\n",
       "      <th>#casa</th>\n",
       "      <th>#gols_c</th>\n",
       "      <th>#gols_v</th>\n",
       "      <th>#visitante</th>\n",
       "      <th>#pp</th>\n",
       "      <th>#iv</th>\n",
       "      <th>#iv%</th>\n",
       "      <th>#renda_L</th>\n",
       "      <th>#renda_B</th>\n",
       "    </tr>\n",
       "  </thead>\n",
       "  <tbody>\n",
       "    <tr>\n",
       "      <td>0</td>\n",
       "      <td>São Paulo-SP</td>\n",
       "      <td>1</td>\n",
       "      <td>0</td>\n",
       "      <td>Paraná-PR</td>\n",
       "      <td>11.327</td>\n",
       "      <td>15.437</td>\n",
       "      <td>73</td>\n",
       "      <td>R$ 140.284,04</td>\n",
       "      <td>R$ 338.295,00</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <td>1</td>\n",
       "      <td>Botafogo-RJ</td>\n",
       "      <td>1</td>\n",
       "      <td>1</td>\n",
       "      <td>Palmeiras-SP</td>\n",
       "      <td>7.020</td>\n",
       "      <td>7.515</td>\n",
       "      <td>93</td>\n",
       "      <td>R$ -200.131,47</td>\n",
       "      <td>R$ 207.880,00</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <td>2</td>\n",
       "      <td>Athletico Paranaense-PR</td>\n",
       "      <td>5</td>\n",
       "      <td>1</td>\n",
       "      <td>Chapecoense-SC</td>\n",
       "      <td>8.395</td>\n",
       "      <td>8.395</td>\n",
       "      <td>100</td>\n",
       "      <td>R$ -77.837,78</td>\n",
       "      <td>R$ 130.015,00</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <td>3</td>\n",
       "      <td>Internacional-RS</td>\n",
       "      <td>2</td>\n",
       "      <td>0</td>\n",
       "      <td>Bahia-BA</td>\n",
       "      <td>18.460</td>\n",
       "      <td>18.460</td>\n",
       "      <td>100</td>\n",
       "      <td>R$ 524.782,95</td>\n",
       "      <td>R$ 796.275,00</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <td>4</td>\n",
       "      <td>Corinthians-SP</td>\n",
       "      <td>2</td>\n",
       "      <td>1</td>\n",
       "      <td>Fluminense-RJ</td>\n",
       "      <td>28.777</td>\n",
       "      <td>28.777</td>\n",
       "      <td>100</td>\n",
       "      <td>R$ 871.251,02</td>\n",
       "      <td>R$ 1.372.018,06</td>\n",
       "    </tr>\n",
       "  </tbody>\n",
       "</table>\n",
       "</div>"
      ],
      "text/plain": [
       "                     #casa  #gols_c  #gols_v      #visitante     #pp     #iv  \\\n",
       "0             São Paulo-SP        1        0       Paraná-PR  11.327  15.437   \n",
       "1              Botafogo-RJ        1        1    Palmeiras-SP   7.020   7.515   \n",
       "2  Athletico Paranaense-PR        5        1  Chapecoense-SC   8.395   8.395   \n",
       "3         Internacional-RS        2        0        Bahia-BA  18.460  18.460   \n",
       "4           Corinthians-SP        2        1   Fluminense-RJ  28.777  28.777   \n",
       "\n",
       "   #iv%        #renda_L         #renda_B  \n",
       "0    73   R$ 140.284,04    R$ 338.295,00  \n",
       "1    93  R$ -200.131,47    R$ 207.880,00  \n",
       "2   100   R$ -77.837,78    R$ 130.015,00  \n",
       "3   100   R$ 524.782,95    R$ 796.275,00  \n",
       "4   100   R$ 871.251,02  R$ 1.372.018,06  "
      ]
     },
     "execution_count": 2,
     "metadata": {},
     "output_type": "execute_result"
    }
   ],
   "source": [
    "import matplotlib.pyplot as plt\n",
    "import pandas as pd\n",
    "\n",
    "df = pd.read_csv('brasileiro2018.csv')\n",
    "\n",
    "df.head()\n",
    "\n",
    "# casa = time dono do mando de campo\n",
    "# gols_c = gols do time da casa\n",
    "# visitante = time visitante\n",
    "# gols_v = gols do time visitante\n",
    "# pp = público presente\n",
    "# iv = ingressos vendidos\n",
    "# iv% = porcentagem de ingressos vendidos\n",
    "# renda_L = renda líquida do jogo\n",
    "# renda_B = renda bruta do jogo\n"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 3,
   "metadata": {},
   "outputs": [
    {
     "data": {
      "text/html": [
       "<div>\n",
       "<style scoped>\n",
       "    .dataframe tbody tr th:only-of-type {\n",
       "        vertical-align: middle;\n",
       "    }\n",
       "\n",
       "    .dataframe tbody tr th {\n",
       "        vertical-align: top;\n",
       "    }\n",
       "\n",
       "    .dataframe thead th {\n",
       "        text-align: right;\n",
       "    }\n",
       "</style>\n",
       "<table border=\"1\" class=\"dataframe\">\n",
       "  <thead>\n",
       "    <tr style=\"text-align: right;\">\n",
       "      <th></th>\n",
       "      <th>time</th>\n",
       "      <th>P</th>\n",
       "      <th>J</th>\n",
       "      <th>V</th>\n",
       "      <th>E</th>\n",
       "      <th>D</th>\n",
       "      <th>GP</th>\n",
       "      <th>GC</th>\n",
       "      <th>SG</th>\n",
       "    </tr>\n",
       "  </thead>\n",
       "  <tbody>\n",
       "    <tr>\n",
       "      <td>0</td>\n",
       "      <td>Palmeiras</td>\n",
       "      <td>80</td>\n",
       "      <td>38</td>\n",
       "      <td>23</td>\n",
       "      <td>11</td>\n",
       "      <td>4</td>\n",
       "      <td>64</td>\n",
       "      <td>26</td>\n",
       "      <td>38</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <td>1</td>\n",
       "      <td>Flamengo</td>\n",
       "      <td>72</td>\n",
       "      <td>38</td>\n",
       "      <td>21</td>\n",
       "      <td>9</td>\n",
       "      <td>8</td>\n",
       "      <td>59</td>\n",
       "      <td>29</td>\n",
       "      <td>30</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <td>2</td>\n",
       "      <td>Internacional</td>\n",
       "      <td>69</td>\n",
       "      <td>38</td>\n",
       "      <td>19</td>\n",
       "      <td>12</td>\n",
       "      <td>7</td>\n",
       "      <td>51</td>\n",
       "      <td>29</td>\n",
       "      <td>22</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <td>3</td>\n",
       "      <td>Grêmio</td>\n",
       "      <td>66</td>\n",
       "      <td>38</td>\n",
       "      <td>18</td>\n",
       "      <td>12</td>\n",
       "      <td>8</td>\n",
       "      <td>48</td>\n",
       "      <td>27</td>\n",
       "      <td>21</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <td>4</td>\n",
       "      <td>São Paulo</td>\n",
       "      <td>63</td>\n",
       "      <td>38</td>\n",
       "      <td>16</td>\n",
       "      <td>15</td>\n",
       "      <td>7</td>\n",
       "      <td>46</td>\n",
       "      <td>34</td>\n",
       "      <td>12</td>\n",
       "    </tr>\n",
       "  </tbody>\n",
       "</table>\n",
       "</div>"
      ],
      "text/plain": [
       "             time  P   J   V   E   D   GP   GC   SG\n",
       "0      Palmeiras   80  38  23  11   4   64   26  38\n",
       "1       Flamengo   72  38  21   9   8   59   29  30\n",
       "2  Internacional   69  38  19  12   7   51   29  22\n",
       "3         Grêmio   66  38  18  12   8   48   27  21\n",
       "4      São Paulo   63  38  16  15   7   46   34  12"
      ]
     },
     "execution_count": 3,
     "metadata": {},
     "output_type": "execute_result"
    }
   ],
   "source": [
    "df2 = pd.read_csv('classificacao2018.csv')\n",
    "\n",
    "df2.head()\n",
    "\n",
    "# P = pontos\n",
    "# J = jogos\n",
    "# V = vitórias\n",
    "# E = empates\n",
    "# D = derrotas\n",
    "# GP = gols pró\n",
    "# GC = gols contra\n",
    "# SG = saldo de gols"
   ]
  },
  {
   "cell_type": "markdown",
   "metadata": {},
   "source": [
    "### Problema\n",
    "\n",
    "Dados dois times e o mandante da partida, é possível criar um classificador que preveja o time vencedor?\n",
    "\n",
    "\n",
    "#### Questão 1\n",
    "\n",
    "Compare o resultado dos classificadores vistos em aula com o classificador *dummy*.\n",
    "\n",
    "Faça uma análise da acurácia, precisão e recall por meio de tabelas e plots.\n",
    "\n",
    "Utilizando os métodos de busca vistos em aula, tente maximizar a acurácia na previsão dos jogos onde o time visitante vence a partida.\n",
    "\n",
    "Utilizando dados de tendências, isto é, se um time vem de vitórias (ou derrotas) nas últimas partidas, é possível melhorar as previsões?\n",
    "\n",
    "Existe alguma outra informação que possa ser relevante para melhorar as previsões?\n",
    "\n",
    "Por fim, usando apenas os 300 primeiros jogos para treino, é possível, baseado nas previsões feitas, estimar o ranking final dos times? \n",
    "Qual é o erro da estimativa feita e da classifição final?\n",
    "O erro é dado pelo somatório do quadrado das diferenças entre a classificação estimada e a real.\n",
    "\n",
    "#### Questão 2\n",
    "\n",
    "Um empresário está em busca de um time do campeonato brasileiro para fechar uma parceria.\n",
    "\n",
    "A parceria consiste no fornecimento de transporte e hospedagem para todos os jogos onde o time é visitante, e em contra partida o time se propõe a utilizar a logo da empresa nesses jogos e dividir a renda líquida dos jogos em 80% para o clube e 20% para a empresa.\n",
    "\n",
    "Baseado nos dados do primeiro turno do campeonato de 2018 (isto é, os 190 primeiros jogos), faça uma lista de recomendação com as três melhores opções de time para patrocinar.\n",
    "\n",
    "Suponha que a empresa consiga faturar em média 2 reais por torcedor presente.\n",
    "\n",
    "Escolhendo a melhor opção de time para investir, faça uma análise se a opção escolhida continuou a ser boa nos 190 jogos restantes."
   ]
  },
  {
   "cell_type": "code",
   "execution_count": null,
   "metadata": {},
   "outputs": [],
   "source": []
  }
 ],
 "metadata": {
  "kernelspec": {
   "display_name": "Python 3",
   "language": "python",
   "name": "python3"
  },
  "language_info": {
   "codemirror_mode": {
    "name": "ipython",
    "version": 3
   },
   "file_extension": ".py",
   "mimetype": "text/x-python",
   "name": "python",
   "nbconvert_exporter": "python",
   "pygments_lexer": "ipython3",
   "version": "3.6.8"
  }
 },
 "nbformat": 4,
 "nbformat_minor": 2
}
